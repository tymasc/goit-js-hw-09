{"version":3,"file":"2-form.js","sources":["../src/js/2-form.js"],"sourcesContent":["let formData = {\n email: \"\",\n message: \"\"\n}\n\nconst STORAGE_KEY = \"feedback-form-state\".trim(); \n\nconst refs = {\n form: document.querySelector('.feedback-form'),\n input: document.querySelector('.feedback-form input'),\n textarea: document.querySelector('.feedback-form textarea'),\n}\n\npopulateForm();\n\nrefs.form.addEventListener('submit', onFormSubmit);\n\n\nrefs.form.addEventListener('input', evt => {\n formData[evt.target.name] = evt.target.value;\n localStorage.setItem(STORAGE_KEY, JSON.stringify(formData));\n})\n\n// form\nfunction onFormSubmit(evt) {\n evt.preventDefault();\n const form = evt.currentTarget;\n\n if (formData.email === '' || formData.message === '') {\n  return  alert(\"Fill please all fields\");\n } \n  console.log(formData);\n\n  formData = {\n   email: \"\",\n   message: \"\"\n  }\n\n  form.reset();\n  localStorage.removeItem(STORAGE_KEY);\n };\n\nfunction populateForm() {\n \n const savedMessageFromLocalStorage = localStorage.getItem(STORAGE_KEY);\n\n if (savedMessageFromLocalStorage === null) return;\n \n try {\n   const parsedMessage = JSON.parse(savedMessageFromLocalStorage);\n\n   formData = parsedMessage;\n   refs.input.value = formData.email;\n   refs.textarea.value = formData.message;\n } catch (error) {\n  alert(\"Something went wrong!\")\n }\n}\n"],"names":["formData","STORAGE_KEY","refs","populateForm","onFormSubmit","evt","form","savedMessageFromLocalStorage"],"mappings":"oDAAA,IAAIA,EAAW,CACd,MAAO,GACP,QAAS,EACV,EAEA,MAAMC,EAAc,sBAAsB,OAEpCC,EAAO,CACZ,KAAM,SAAS,cAAc,gBAAgB,EAC7C,MAAO,SAAS,cAAc,sBAAsB,EACpD,SAAU,SAAS,cAAc,yBAAyB,CAC3D,EAEAC,IAEAD,EAAK,KAAK,iBAAiB,SAAUE,CAAY,EAGjDF,EAAK,KAAK,iBAAiB,QAASG,GAAO,CAC1CL,EAASK,EAAI,OAAO,IAAI,EAAIA,EAAI,OAAO,MACvC,aAAa,QAAQJ,EAAa,KAAK,UAAUD,CAAQ,CAAC,CAC3D,CAAC,EAGD,SAASI,EAAaC,EAAK,CAC1BA,EAAI,eAAc,EAClB,MAAMC,EAAOD,EAAI,cAEjB,GAAIL,EAAS,QAAU,IAAMA,EAAS,UAAY,GACjD,OAAQ,MAAM,wBAAwB,EAEtC,QAAQ,IAAIA,CAAQ,EAEpBA,EAAW,CACV,MAAO,GACP,QAAS,EACT,EAEDM,EAAK,MAAK,EACV,aAAa,WAAWL,CAAW,CAErC,CACA,SAASE,GAAe,CAEvB,MAAMI,EAA+B,aAAa,QAAQN,CAAW,EAErE,GAAIM,IAAiC,KAErC,GAAI,CAGFP,EAFsB,KAAK,MAAMO,CAA4B,EAG7DL,EAAK,MAAM,MAAQF,EAAS,MAC5BE,EAAK,SAAS,MAAQF,EAAS,OAChC,MAAe,CACf,MAAM,uBAAuB,CAC7B,CACF"}